<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playground Sandbox - The Engine Room Knowledge Hub</title>
    <style>
        :root {
            /* Base palette */
            --gitbook-bg: #FFFFFF;
            --gitbook-paper: #FBFCFE;
            --gitbook-sidebar-bg: #FFFFFF;
            --gitbook-text: #202225;
            --gitbook-secondary-text: #57606A;
            --gitbook-border: #E2E8F0;
            --gitbook-code-bg: #F7FAFC;
            --gitbook-shadow: 0 1px 3px rgba(31, 35, 40, 0.08), 0 8px 24px rgba(66, 74, 83, 0.08);

            /* Brand accent inspired by African AI Pluriverse (warm amber) */
            --gitbook-primary: #D97706; /* amber-600 */
            --gitbook-primary-hover: #B45309; /* amber-700 */
            --gitbook-primary-weak: rgba(217, 119, 6, 0.12);

            /* Fonts */
            --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            --code-font: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-main);
            margin: 0;
            display: flex;
            flex-direction: column;
            background-color: var(--gitbook-bg);
            color: var(--gitbook-text);
            height: 100vh;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Top header bar with logo */
        .topbar {
            position: sticky;
            top: 0;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            padding: 10px 20px;
            background-color: var(--gitbook-paper);
            border-bottom: 1px solid var(--gitbook-border);
        }
        .topbar-left {
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 0;
        }
        .topbar .logo {
            height: 28px;
            width: auto;
            object-fit: contain;
        }
        .topbar .site-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gitbook-text);
            white-space: nowrap;
        }
        .topbar-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .kbd {
            font-family: var(--code-font);
            font-size: 12px;
            border: 1px solid var(--gitbook-border);
            border-bottom-width: 2px;
            border-radius: 4px;
            padding: 2px 6px;
            background: #fff;
            color: var(--gitbook-secondary-text);
        }

        .app-layout {
            display: flex;
            align-items: stretch;
            flex: 1 1 auto;
            min-height: 0;
        }
        
        .sidebar {
            width: 280px;
            background-color: var(--gitbook-sidebar-bg);
            padding: 16px 0;
            border-right: 1px solid var(--gitbook-border);
            height: auto;
            overflow-y: auto;
        }
        
        .sidebar h2 {
            font-size: 16px;
            font-weight: 700;
            margin: 0 16px 12px 16px;
            color: var(--gitbook-text);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--gitbook-border);
        }
        
        .sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .sidebar li {
            margin: 0;
        }
        
        .sidebar li a {
            text-decoration: none;
            color: var(--gitbook-secondary-text);
            display: block;
            padding: 8px 16px;
            font-weight: 400;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.15s ease;
            border-left: 3px solid transparent;
        }
        
        .sidebar li a:hover {
            background-color: var(--gitbook-primary-weak);
            color: var(--gitbook-primary);
        }
        
        .sidebar li a.active {
            background-color: var(--gitbook-primary-weak);
            color: var(--gitbook-primary);
            font-weight: 600;
            border-left-color: var(--gitbook-primary);
        }
        
        .main-content {
            flex-grow: 1;
            padding: 32px 56px;
            overflow-y: auto;
        }
        .main-inner {
            max-width: 980px;
            margin: 0 auto;
        }
        
        .page-content {
            display: none;
        }
        
        .page-content.active {
            display: block;
        }
        
        .main-content h1 {
            font-size: 28px;
            font-weight: 700;
            border-bottom: 1px solid var(--gitbook-border);
            padding-bottom: 16px;
            margin: 0 0 24px 0;
            color: var(--gitbook-text);
        }
        
        .main-content h2 {
            font-size: 20px;
            font-weight: 600;
            margin: 32px 0 16px 0;
            color: var(--gitbook-text);
        }
        
        .main-content h3 {
            font-size: 18px;
            font-weight: 600;
            margin: 24px 0 12px 0;
            color: var(--gitbook-text);
        }
        
        .main-content p {
            font-size: 14px;
            line-height: 1.6;
            color: var(--gitbook-secondary-text);
            margin: 0 0 16px 0;
        }
        
        /* Enhanced button styling */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid var(--gitbook-border);
            background-color: var(--gitbook-bg);
            color: var(--gitbook-text);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            text-decoration: none;
        }
        
        .btn:hover {
            background-color: var(--gitbook-code-bg);
            border-color: var(--gitbook-secondary-text);
        }
        
        .btn-primary {
            background-color: var(--gitbook-primary);
            color: white;
            border-color: var(--gitbook-primary);
            box-shadow: 0 1px 2px rgba(217, 119, 6, 0.2);
        }
        
        .btn-primary:hover {
            background-color: var(--gitbook-primary-hover);
            border-color: var(--gitbook-primary-hover);
        }
        
        /* Enhanced container styling */
        .container {
            background-color: var(--gitbook-bg);
            border: 1px solid var(--gitbook-border);
            border-radius: 8px;
            box-shadow: var(--gitbook-shadow);
            overflow: hidden;
            margin: 24px 0;
        }
        
        /* Chatbot specific styles */
        .chatbot-container {
            max-width: 700px;
        }
        
        .chatbot-header {
            background-color: var(--gitbook-code-bg);
            color: var(--gitbook-text);
            padding: 12px 16px;
            font-weight: 600;
            font-size: 14px;
            border-bottom: 1px solid var(--gitbook-border);
        }
        
        .chatbot-messages {
            height: 400px;
            padding: 16px;
            overflow-y: auto;
            background-color: var(--gitbook-bg);
        }
        
        .message {
            margin-bottom: 16px;
            display: flex;
            flex-direction: column;
        }
        
        .message.bot .bubble {
            background-color: var(--gitbook-code-bg);
            color: var(--gitbook-text);
            align-self: flex-start;
            border: 1px solid var(--gitbook-border);
        }
        
        .message.user .bubble {
            background-color: var(--gitbook-primary);
            color: white;
            align-self: flex-end;
        }
        
        .bubble {
            padding: 12px 16px;
            border-radius: 12px;
            max-width: 80%;
            font-size: 14px;
            line-height: 1.4;
            box-shadow: 0 1px 2px rgba(31, 35, 40, 0.12);
        }
        
        .chatbot-input {
            display: flex;
            padding: 16px;
            border-top: 1px solid var(--gitbook-border);
            gap: 12px;
        }
        
        .chatbot-input input {
            flex-grow: 1;
            border: 1px solid var(--gitbook-border);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-family: var(--font-main);
        }
        
        .chatbot-input input:focus {
            outline: none;
            border-color: var(--gitbook-primary);
            box-shadow: 0 0 0 2px rgba(9, 105, 218, 0.2);
        }
        
        .chatbot-input button {
            background-color: var(--gitbook-primary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: background-color 0.15s ease;
        }
        
        .chatbot-input button:hover {
            background-color: var(--gitbook-primary-hover);
        }
        
        /* Playground specific styles */
        .playground-container {
            max-width: 800px;
        }
        
        .playground-header {
            background-color: var(--gitbook-code-bg);
            padding: 12px 16px;
            border-bottom: 1px solid var(--gitbook-border);
            font-weight: 600;
            font-size: 14px;
            color: var(--gitbook-text);
        }
        
        .playground-editor {
            background-color: #0D1117;
            color: #E6EDF3;
            padding: 16px;
            font-family: var(--code-font);
            font-size: 14px;
            min-height: 200px;
            white-space: pre-wrap;
            overflow: auto;
            line-height: 1.4;
        }
        
        .playground-editor:focus {
            outline: none;
        }
        
        .playground-controls {
            padding: 12px 16px;
            background-color: var(--gitbook-code-bg);
            border-top: 1px solid var(--gitbook-border);
            display: flex;
            gap: 8px;
        }
        
        .playground-output {
            background-color: var(--gitbook-bg);
            padding: 16px;
            font-family: var(--code-font);
            font-size: 13px;
            border-top: 1px solid var(--gitbook-border);
            min-height: 60px;
            color: var(--gitbook-secondary-text);
            line-height: 1.4;
        }
        
        .playground-output.error {
            color: #D1242F;
            background-color: #FFF5F5;
        }
        
        .playground-output.success {
            color: #0969DA;
        }
        
        .embed-placeholder {
            width: 100%;
            height: 400px;
            background-color: var(--gitbook-code-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            border: 1px solid var(--gitbook-border);
            color: var(--gitbook-secondary-text);
            font-style: italic;
            font-size: 14px;
        }
        
        /* Demo tool specific styles */
        .demo-container {
            padding: 20px;
            background-color: var(--gitbook-code-bg);
            border-radius: 6px;
            border: 1px solid var(--gitbook-border);
            margin: 20px 0;
        }
        
        .demo-container label {
            font-weight: 600;
            display: block;
            margin-bottom: 8px;
            color: var(--gitbook-text);
            font-size: 14px;
        }
        
        .demo-container textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid var(--gitbook-border);
            font-family: var(--font-main);
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.15s ease;
        }
        
        .demo-container textarea:focus {
            outline: none;
            border-color: var(--gitbook-primary);
            box-shadow: 0 0 0 2px rgba(9, 105, 218, 0.2);
        }
        
        .demo-results {
            margin-top: 20px;
            border-top: 1px solid var(--gitbook-border);
            padding-top: 20px;
        }
        
        .demo-results h3 {
            margin-top: 0;
            color: var(--gitbook-text);
            font-size: 16px;
            font-weight: 600;
        }
        
        .demo-results pre {
            background-color: var(--gitbook-code-bg);
            padding: 16px;
            border-radius: 6px;
            border: 1px solid var(--gitbook-border);
            font-family: var(--code-font);
            font-size: 13px;
            white-space: pre-wrap;
            overflow-x: auto;
            line-height: 1.4;
        }
        
        /* Learning Module specific styles */
        .module-step {
            background-color: var(--gitbook-bg);
            border: 1px solid var(--gitbook-border);
            border-radius: 8px;
            padding: 24px;
            margin: 24px 0;
            box-shadow: 0 1px 3px rgba(31, 35, 40, 0.12);
        }
        
        .module-step h3 {
            margin-top: 0;
            color: var(--gitbook-primary);
            font-size: 18px;
            font-weight: 600;
        }
        
        .module-step .demo-container {
            margin: 16px 0;
            background-color: var(--gitbook-code-bg);
        }
        
        .module-step .demo-container textarea {
            min-height: 80px;
        }
        
        /* Quiz styles */
        .quiz-container {
            margin-top: 16px;
        }
        
        .quiz-question {
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--gitbook-text);
            font-size: 14px;
        }
        
        .quiz-option {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }
        
        .quiz-option input[type="radio"] {
            margin-top: 2px;
            accent-color: var(--gitbook-primary);
        }
        
        .quiz-option label {
            margin: 0;
            cursor: pointer;
            font-size: 14px;
            line-height: 1.4;
            color: var(--gitbook-secondary-text);
        }
        
        .quiz-button {
            background-color: var(--gitbook-primary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            margin-top: 16px;
            transition: background-color 0.15s ease;
        }
        
        .quiz-button:hover {
            background-color: var(--gitbook-primary-hover);
        }
        
        #quiz-feedback {
            margin-top: 16px;
            padding: 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .feedback-correct {
            background-color: #DDF4FF;
            border: 1px solid #54AEFF;
            color: #0969DA;
        }
        
        .feedback-incorrect {
            background-color: #FFEBE9;
            border: 1px solid #FF8182;
            color: #D1242F;
        }
        
        .feedback-warning {
            background-color: #FFF8C5;
            border: 1px solid #FFDF5D;
            color: #9A6700;
        }
        
        /* Mini sentiment analyzer for learning module */
        .mini-analyzer {
            margin-top: 16px;
        }
        
        .mini-analyzer textarea {
            width: 100%;
            min-height: 80px;
            padding: 12px;
            border: 1px solid var(--gitbook-border);
            border-radius: 6px;
            font-family: var(--font-main);
            font-size: 14px;
            resize: vertical;
        }
        
        .mini-analyzer textarea:focus {
            outline: none;
            border-color: var(--gitbook-primary);
            box-shadow: 0 0 0 2px rgba(9, 105, 218, 0.2);
        }
        
        .mini-result {
            margin-top: 12px;
            padding: 12px;
            background-color: var(--gitbook-code-bg);
            border: 1px solid var(--gitbook-border);
            border-radius: 6px;
            font-family: var(--code-font);
            font-size: 13px;
            min-height: 60px;
            display: flex;
            align-items: center;
            color: var(--gitbook-secondary-text);
        }
    </style>
</head>
<body>
    <!-- Top header bar -->
    <div class="topbar">
        <div class="topbar-left">
            <!-- If the logo URL doesn't load, the title still shows -->
            <img class="logo" src="https://theengineroom.org/wp-content/uploads/2024/06/TER-logo-dark.svg" alt="The Engine Room logo" onerror="this.style.display='none'">
            <span class="site-title">The Engine Room ¬∑ Playground Sandbox</span>
        </div>
        <div class="topbar-right">
            <span class="kbd">‚åòK</span>
        </div>
    </div>

    <div class="app-layout">
    <div class="sidebar">
        <h2>Contents</h2>
        <ul>
            <li><a href="#" data-page="chatbot-page" class="nav-link active">AI Chatbot</a></li>
            <li><a href="#" data-page="playgrounds-page" class="nav-link">Interactive Playgrounds</a></li>
            <li><a href="#" data-page="custom-tool-page" class="nav-link">Custom Tool Demo</a></li>
            <li><a href="#" data-page="learning-page" class="nav-link">Learning Modules</a></li>
        </ul>
    </div>
    
    <div class="main-content">
    <div class="main-inner">
        <!-- AI Chatbot Page -->
        <div id="chatbot-page" class="page-content active">
            <h1>AI Chatbot Integration</h1>
            <p>This demonstrates how an AI chatbot could be embedded into the hub using GitBook's custom code blocks. Users can ask questions about our resources, get quick definitions, or find relevant materials without leaving the page. This is a highly feasible option with a 2-3 week setup timeline.</p>

            <div class="chatbot-container container">
                <div class="chatbot-header">ü§ñ Hub Helper Bot</div>
                <div class="chatbot-messages">
                    <div class="message bot">
                        <div class="bubble">Hello! I'm the Hub Helper. How can I assist you today? You can ask me about digital security, language justice, or any other topics in our hub.</div>
                    </div>
                    <div class="message user">
                        <div class="bubble">What resources do you have on responsible AI?</div>
                    </div>
                     <div class="message bot">
                        <div class="bubble">Great question! We have a Responsible AI microsite, a guide on choosing AI tools, and several case studies. Would you like a link to the microsite?</div>
                    </div>
                </div>
                <div class="chatbot-input">
                    <input type="text" id="chatbot-input-field" placeholder="Type your message...">
                    <button id="chatbot-send-btn" class="btn-primary">Send</button>
                </div>
            </div>
        </div>

        <!-- Interactive Playgrounds Page -->
        <div id="playgrounds-page" class="page-content">
            <h1>Interactive Playgrounds</h1>
            <p>This page shows mock-ups for interactive code playgrounds. These allow users to experiment with code directly within our documentation, making technical concepts easier to understand. This is a very feasible option with a 1-2 week timeline.</p>

            <h2>RunKit Example (Live JavaScript)</h2>
            <p>Here's a mock-up of what a RunKit embed could look like. Users can edit the JavaScript and click "Run" to see the output immediately.</p>
            <div class="playground-container container">
                <div class="playground-header">üöÄ JavaScript Playground</div>
                <div class="playground-editor" contenteditable="true" id="code-editor">// Example: Simple JavaScript function
const community = "The Engine Room";
console.log(`Welcome to the ${community} hub!`);

// Try adding your own code here!
// Example: Calculate something
const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce((a, b) => a + b, 0);
console.log(`Sum of numbers: ${sum}`);</div>
                <div class="playground-controls">
                    <button id="run-code-btn" class="btn-primary">‚ñ∂ Run Code</button>
                    <button id="clear-output-btn" class="btn">Clear Output</button>
                </div>
                <div class="playground-output" id="code-output">
                    Click "Run Code" to execute the JavaScript above
                </div>
            </div>

            <h2>CodeSandbox Example (Front-end Tools)</h2>
            <p>This is a placeholder for a CodeSandbox embed. It would display a fully interactive web development environment, perfect for demonstrating more complex front-end tools or libraries.</p>
            <div class="embed-placeholder">
                üì¶ CodeSandbox embed would be loaded here via iframe
            </div>
        </div>

        <!-- Custom Tool Demo Page -->
        <div id="custom-tool-page" class="page-content">
            <h1>Custom Tool Demo: NLP Analyzer</h1>
            <p>This prototype demonstrates how we can embed a functional demo of a specific tool, like a Natural Language Processing (NLP) tool. This lets users interact with our technology directly. Building these demos is more complex and could take 1-2 months.</p>

            <div class="demo-container">
                <label for="nlp-input">üìù Enter text to analyze:</label>
                <textarea id="nlp-input" placeholder="For example: 'This community hub is inspiring and very helpful for our work.'"></textarea>
                <button id="analyze-btn" class="btn-primary">üîç Analyze Text</button>

                <div class="demo-results">
                    <h3>üìä Analysis Results:</h3>
                    <pre id="analysis-output"><code>{
  "sentiment": "Positive",
  "word_count": 11,
  "character_count": 69
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Learning Modules Page -->
        <div id="learning-page" class="page-content">
            <h1>Interactive Learning Module: Understanding AI</h1>
            <p>This prototype outlines an interactive, step-by-step learning module. It guides the user through a topic by combining explanatory text, interactive demos, and short quizzes. This format is effective for skill-building and could take 1-2 months to develop.</p>

            <div class="module-step">
                <h3>üìö Step 1: What is Sentiment Analysis?</h3>
                <p>Sentiment analysis is a technique used to determine whether a piece of writing is positive, negative, or neutral. It's commonly used to understand customer feedback, social media conversations, and more.</p>
            </div>

            <div class="module-step">
                <h3>üß™ Step 2: Try It Yourself!</h3>
                <p>Use the mini-tool below to see sentiment analysis in action. Enter a sentence and see how the tool classifies it.</p>
                <div class="mini-analyzer">
                    <textarea id="learning-input" placeholder="Enter a sentence to analyze its sentiment..."></textarea>
                    <button id="learning-analyze-btn" class="btn-primary">Analyze Sentiment</button>
                    <div class="mini-result" id="learning-result">
                        Enter some text above and click "Analyze Sentiment" to see the results
                    </div>
                </div>
            </div>

            <div class="module-step">
                <h3>‚úÖ Step 3: Knowledge Check</h3>
                <div class="quiz-container">
                    <p class="quiz-question">Which of the following is the primary goal of sentiment analysis?</p>
                    <div class="quiz-option">
                        <input type="radio" id="q1a" name="quiz1" value="translate">
                        <label for="q1a">To translate text into different languages.</label>
                    </div>
                    <div class="quiz-option">
                        <input type="radio" id="q1b" name="quiz1" value="emotional">
                        <label for="q1b">To identify the emotional tone behind a body of text.</label>
                    </div>
                    <div class="quiz-option">
                        <input type="radio" id="q1c" name="quiz1" value="summarize">
                        <label for="q1c">To summarize long documents.</label>
                    </div>
                    <button class="quiz-button" id="check-answer-btn">Check Answer</button>
                    <div id="quiz-feedback"></div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <script>
        // Global SPA Navigation System
        document.addEventListener('DOMContentLoaded', function() {
            
            // Navigation link click handlers for Single Page Application functionality
            const navLinks = document.querySelectorAll('.nav-link');
            const pageContents = document.querySelectorAll('.page-content');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all navigation links and page containers
                    navLinks.forEach(l => l.classList.remove('active'));
                    pageContents.forEach(p => p.classList.remove('active'));
                    
                    // Add active class to clicked navigation link
                    this.classList.add('active');
                    
                    // Show corresponding page content
                    const targetPage = this.getAttribute('data-page');
                    document.getElementById(targetPage).classList.add('active');
                });
            });
            
            // AI Chatbot Functionality
            const chatbotInput = document.getElementById('chatbot-input-field');
            const chatbotSendBtn = document.getElementById('chatbot-send-btn');
            const chatbotMessages = document.querySelector('.chatbot-messages');
            
            // Function to add a new message to the chatbot interface
            function addMessage(content, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
                
                const bubbleDiv = document.createElement('div');
                bubbleDiv.className = 'bubble';
                bubbleDiv.textContent = content;
                
                messageDiv.appendChild(bubbleDiv);
                chatbotMessages.appendChild(messageDiv);
                
                // Auto-scroll to bottom to show newest message
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }
            
            // Intelligent bot response system based on keyword detection
            function getBotResponse(userMessage) {
                const lowerMessage = userMessage.toLowerCase();
                
                if (lowerMessage.includes('ai')) {
                    return "Great question! We have a Responsible AI microsite, a guide on choosing AI tools, and several case studies. Would you like a link to the microsite?";
                } else if (lowerMessage.includes('security')) {
                    return "We have many resources on digital security. I can point you to our policy templates or checklists. What are you looking for?";
                } else {
                    return "Thanks for your question. I'm still in training, but I've logged your query for the team. You can also explore our resource library for more information.";
                }
            }
            
            // Send message function for chatbot
            function sendMessage() {
                const message = chatbotInput.value.trim();
                if (message) {
                    // Add user message to chat
                    addMessage(message, true);
                    
                    // Clear input field
                    chatbotInput.value = '';
                    
                    // Add bot response after 1 second delay to simulate thinking
                    setTimeout(() => {
                        const botResponse = getBotResponse(message);
                        addMessage(botResponse, false);
                    }, 1000);
                }
            }
            
            // Event listeners for chatbot send functionality
            chatbotSendBtn.addEventListener('click', sendMessage);
            
            chatbotInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Interactive Playground Functionality
            const runCodeBtn = document.getElementById('run-code-btn');
            const clearOutputBtn = document.getElementById('clear-output-btn');
            const playgroundEditor = document.getElementById('code-editor');
            const codeOutput = document.getElementById('code-output');
            
            // Function to execute JavaScript code safely with console.log capture
            function executeCode() {
                const code = playgroundEditor.textContent;
                
                // Backup original console.log to restore later
                const originalLog = console.log;
                const output = [];
                
                // Override console.log to capture output
                console.log = function(...args) {
                    output.push('> ' + args.map(arg => 
                        typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
                    ).join(' '));
                };
                
                try {
                    // Execute the user's JavaScript code
                    eval(code);
                    
                    // Display captured output or success message
                    if (output.length > 0) {
                        codeOutput.textContent = output.join('\n');
                        codeOutput.className = 'playground-output success';
                    } else {
                        codeOutput.textContent = '‚úÖ Code executed successfully (no console output)';
                        codeOutput.className = 'playground-output success';
                    }
                } catch (error) {
                    // Display error message if code execution fails
                    codeOutput.textContent = '‚ùå Error: ' + error.message;
                    codeOutput.className = 'playground-output error';
                } finally {
                    // Always restore original console.log
                    console.log = originalLog;
                }
            }
            
            // Function to clear the output area
            function clearOutput() {
                codeOutput.textContent = 'Click "Run Code" to execute the JavaScript above';
                codeOutput.className = 'playground-output';
            }
            
            // Event listeners for playground functionality
            runCodeBtn.addEventListener('click', executeCode);
            clearOutputBtn.addEventListener('click', clearOutput);
            
            // Custom Tool Demo Functionality (NLP Analyzer)
            const analyzeBtn = document.getElementById('analyze-btn');
            const nlpInput = document.getElementById('nlp-input');
            const analysisOutput = document.getElementById('analysis-output');
            
            // Enhanced sentiment analysis function
            function performTextAnalysis() {
                const text = nlpInput.value.trim();
                
                if (text) {
                    // Calculate basic text metrics
                    const wordCount = text.split(/\s+/).filter(word => word.length > 0).length;
                    const characterCount = text.length;
                    const sentenceCount = text.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
                    
                    // Enhanced sentiment analysis with more keywords
                    const lowerText = text.toLowerCase();
                    let sentiment = "Neutral";
                    let confidence = 0.5;
                    
                    const positiveWords = ['good', 'helpful', 'inspiring', 'great', 'excellent', 'amazing', 'wonderful', 'fantastic', 'positive', 'happy', 'love', 'awesome', 'brilliant', 'outstanding', 'perfect'];
                    const negativeWords = ['bad', 'problem', 'issue', 'terrible', 'awful', 'horrible', 'negative', 'sad', 'angry', 'frustrated', 'disappointing', 'worse', 'hate', 'difficult', 'broken'];
                    
                    const positiveMatches = positiveWords.filter(word => lowerText.includes(word)).length;
                    const negativeMatches = negativeWords.filter(word => lowerText.includes(word)).length;
                    
                    if (positiveMatches > negativeMatches) {
                        sentiment = "Positive";
                        confidence = Math.min(0.9, 0.6 + (positiveMatches * 0.1));
                    } else if (negativeMatches > positiveMatches) {
                        sentiment = "Negative";
                        confidence = Math.min(0.9, 0.6 + (negativeMatches * 0.1));
                    } else if (positiveMatches > 0 && negativeMatches > 0) {
                        sentiment = "Mixed";
                        confidence = 0.7;
                    }
                    
                    // Extract potential keywords (words longer than 3 characters, excluding common words)
                    const commonWords = ['the', 'and', 'for', 'are', 'but', 'not', 'you', 'all', 'can', 'had', 'her', 'was', 'one', 'our', 'out', 'day', 'get', 'has', 'him', 'his', 'how', 'its', 'may', 'new', 'now', 'old', 'see', 'two', 'way', 'who', 'boy', 'did', 'man', 'run', 'she', 'top', 'use', 'was', 'way', 'win', 'yes'];
                    const keywords = text.toLowerCase()
                        .replace(/[^\w\s]/g, '')
                        .split(/\s+/)
                        .filter(word => word.length > 3 && !commonWords.includes(word))
                        .slice(0, 5); // Top 5 keywords
                    
                    // Create comprehensive analysis result
                    const analysisResult = {
                        sentiment: sentiment,
                        confidence: parseFloat(confidence.toFixed(2)),
                        word_count: wordCount,
                        character_count: characterCount,
                        sentence_count: sentenceCount,
                        keywords: keywords,
                        language: "English"
                    };
                    
                    // Update the analysis output with formatted JSON
                    analysisOutput.textContent = JSON.stringify(analysisResult, null, 2);
                } else {
                    // Show error message if no text provided
                    analysisOutput.textContent = '{\n  "error": "Please enter some text to analyze"\n}';
                }
            }
            
            // Event listener for text analysis
            analyzeBtn.addEventListener('click', performTextAnalysis);
            
            // Learning Module Functionality
            
            // Mini sentiment analyzer in Step 2
            const learningAnalyzeBtn = document.getElementById('learning-analyze-btn');
            const learningInput = document.getElementById('learning-input');
            const learningResult = document.getElementById('learning-result');
            
            // Simplified sentiment analysis for learning module
            function analyzeSentimentForLearning() {
                const text = learningInput.value.trim();
                
                if (text) {
                    const lowerText = text.toLowerCase();
                    let sentiment = "üòê Neutral";
                    
                    const positiveWords = ['good', 'great', 'happy', 'love', 'amazing', 'wonderful', 'excellent', 'fantastic', 'positive', 'inspiring'];
                    const negativeWords = ['bad', 'sad', 'angry', 'hate', 'terrible', 'awful', 'horrible', 'negative', 'disappointed'];
                    
                    const hasPositive = positiveWords.some(word => lowerText.includes(word));
                    const hasNegative = negativeWords.some(word => lowerText.includes(word));
                    
                    if (hasPositive && !hasNegative) {
                        sentiment = "üòä Positive";
                    } else if (hasNegative && !hasPositive) {
                        sentiment = "üòû Negative";
                    } else if (hasPositive && hasNegative) {
                        sentiment = "ü§î Mixed";
                    }
                    
                    learningResult.textContent = `Sentiment Analysis Result: ${sentiment}`;
                } else {
                    learningResult.textContent = 'Please enter some text to analyze';
                }
            }
            
            // Event listener for learning module sentiment analysis
            learningAnalyzeBtn.addEventListener('click', analyzeSentimentForLearning);
            
            // Quiz functionality for Step 3
            const checkAnswerBtn = document.getElementById('check-answer-btn');
            const quizFeedback = document.getElementById('quiz-feedback');
            
            // Function to check quiz answer and provide feedback
            function checkQuizAnswer() {
                const selectedOption = document.querySelector('input[name="quiz1"]:checked');
                
                // Clear previous feedback styling
                quizFeedback.className = '';
                
                if (selectedOption) {
                    const selectedValue = selectedOption.value;
                    
                    if (selectedValue === 'emotional') {
                        // Correct answer feedback
                        quizFeedback.innerHTML = '‚úÖ Correct! Well done.';
                        quizFeedback.className = 'feedback-correct';
                    } else {
                        // Incorrect answer feedback
                        quizFeedback.innerHTML = '‚ùå Not quite. Remember, sentiment analysis is about understanding emotion and tone.';
                        quizFeedback.className = 'feedback-incorrect';
                    }
                } else {
                    // No answer selected feedback
                    quizFeedback.innerHTML = '‚ö†Ô∏è Please select an answer first.';
                    quizFeedback.className = 'feedback-warning';
                }
            }
            
            // Event listener for quiz answer checking
            checkAnswerBtn.addEventListener('click', checkQuizAnswer);
            
            // Allow Enter key to trigger sentiment analysis in learning module
            learningInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    analyzeSentimentForLearning();
                }
            });
            
            // Allow Enter key to trigger text analysis in custom tool
            nlpInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    performTextAnalysis();
                }
            });
        });
    </script>
</body>
</html>